// replace dialog div with contents of dialog text from partial

$('#genericModalContent').html("<%= escape_javascript(
          render partial: 'stash_engine/admin_datasets/diff_popup', locals: { resource: @resource, title: 'Differences from previous version' }) %>");

// now open a jquery ui modal dialog
$(function() {

    $('#genericModalDialog')[0].showModal();

    // make the cancel button in the dialog hide the dialog
    $("#cancel_dialog").click(function (e) {
        e.preventDefault();
        $('#genericModalDialog')[0].close();
    });
});
