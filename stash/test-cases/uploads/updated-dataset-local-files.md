# Updating a dataset with local files

1. log in
1. select **My datasets**
1. select an existing, **published** dataset
1. select **Upload data**
   - ✓ check that files from the existing version(s) are listed under **Upload files**
   - ✓ check that each file has a check mark
   - ✓ check that **New in this version**, below the table, shows **0 bytes**
1. make sure **Drag and drop or choose files from your computer** is selected
1. click **Choose files**
   - choose one or more files
1. drag some files into the **Drag and drop files here** area
   - including at least one file with the same name as an existing file
1. for all files:
   - ✓ check that the chosen files appear in the list
   - ✓ check that the dropped files appear in the list
   - ✓ check that the file sizes are correct
   - ✓ check that the **Total** size is correct (should be the total of all file sizes shown)
   - ✓ check that the **New in this version** reflects the added files
   - ✓ check that the **I confirm…** check box appears
   - ✓ check that the **Upload** button appears
   - ✓ check that the **Upload** button is disabled
1. for the file with the same name:
   - ✓ check that there is now *no* checkmark next to the file name
   - ✓ check that the message **Your previous file [filename] has been
     replaced in your upload list with a newer file with the same name.**
     appears below the table.
     - *(Note: It may then disappear, for some reason.`¯\_(ツ)_/¯`—DM)*
1. click **Remove** on the file with the same name, and:
   - ✓ check that the old file reappears (w/checkmark and old size)
1. click **Remove** on one or more of the old files
   - for each file:
     - ✓ check that the removed file disappears from the list
     - ✓ check that the **Total** size is adjusted correctly
1. click **Remove** on one or more of the newly added files
   - for each file:
     - ✓ check that the removed file disappears from the list
     - ✓ check that the **Total** size is adjusted correctly
     - ✓ check that the **New in this version** size is adjusted correctly
   - when all files have been removed:
     - ✓ check that the **I confirm…** check box disappears
     - ✓ check that the **Upload** button disappears
1. choose and/or drag and drop some more files, including at least one
    reasonably large file (> 10 MB)
   - ✓ check that the **I confirm…** check box and **Upload** button reappear
1. tick the **I confirm…** check box
   - ✓ check that the **Upload** button is ebnabled
1. click **Proceed to review** (lower right)
   - ✓ check that a **You have files that have not been uploaded** dialog appears
   - dismiss the dialog
1. click **Review and submit** (top right)
   - ✓ check that a **You have files that have not been uploaded** dialog appears
   - dismiss the dialog
1. click **Upload**
1. for large (-ish) files, ✓ check that:
   - a progress bar appears next to each file
   - a **Cancel** link appears next to each file 
   - clicking the **Cancel** link before progress completes removes the file from the list
1. for smallish files, and for *completed* large files, 
   - ✓ check that a check mark appears next to the file name
   - ✓ check that the **Cancel** link changes to **Delete**
1. click **Delete** on one or more files
   - for each file:
     - ✓ check that the removed file disappears from the list
     - ✓ check that the **Total** size is adjusted correctly
     - ✓ check that the **New in this version** size is adjusted correctly
   - when all files have been deleted:
     - ✓ check that the **I confirm…** check box disappears
     - ✓ check that the **Upload** button disappears
1. choose and/or drag and drop some more files
   - ✓ check that the **I confirm…** check box and **Upload** button reappear
1. tick the **I confirm…** check box
1. click **Upload**
1. when all files have uploaded, click **Proceed to review** or **Review and submit**
   - ✓ check that the uploaded files appear in the **Review data files** section
1. tick the **By checking this box, I agree...** (CC-BY) box
1. click **Submit**
1. wait for the dataset’s status to apepar as **published**
1. on the dataset landing page:
   - ✓ check that the files appear, with the correct sizes, under **Data files**
   - click **Download the dataset**
     - ✓ check that the files appear, with the correct sizes, in the downloaded ZIP file
     - ✓ check that any replaced files have been replaced

