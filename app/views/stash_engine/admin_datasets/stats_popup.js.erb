// replace dialog div with contents of dialog text from partial
<% title = @resource&.title&.html_safe %>

$('#genericModalContent').html("<%= escape_javascript(
          render partial: 'stash_engine/admin_datasets/stats_popup_display', locals: {
            resource: @resource, title: title }) %>");

// now open a jquery ui modal dialog
$(function() {

    $('#genericModalDialog')[0].showModal();

    // make the cancel button in the dialog hide the dialog
    $("#cancel_dialog").click(function (e) {
        e.preventDefault();
        $('#genericModalDialog')[0].close();
    });
});