// open a modal dialog
document.getElementById('genericModalDialog').classList.add('extra-wide');
document.getElementById('genericModalContent').innerHTML = '';
document.getElementById('genericModalContent').append(document.createRange().createContextualFragment("<%= escape_javascript(render partial: 'edit') %>"));
document.getElementById('genericModalDialog').showModal();
document.getElementById('genericModalDialog').addEventListener('close', () => {
  document.getElementById('genericModalDialog').classList.remove('extra-wide');
});
document.getElementById('cancel_dialog').addEventListener('click', (e) => {
  e.preventDefault();
  document.getElementById('genericModalDialog').close();
});
var formButtons = Array.from(document.getElementsByClassName('button-expand'));
formButtons.forEach(button => {
  button.addEventListener('click', e => {
    e.preventDefault();
    e.currentTarget.setAttribute('hidden', true);
    e.currentTarget.nextElementSibling.removeAttribute('hidden');
  })
})
var chk = document.getElementById('stash_engine_user_flag_attributes__destroy')
chk.addEventListener('change', () => {
  var note = document.getElementById('stash_engine_user_flag_attributes_note')
  note.disabled = !chk.checked
  if (!chk.checked) note.value = ''
})
